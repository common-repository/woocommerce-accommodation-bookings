(()=>{"use strict";const e=window.wp.i18n;function o(e){return e.closest(".product.product-type-accommodation-booking").length>0}function t(e){return(e=a(e)).closest("form")}function a(e){return jQuery(e)}function d(e){let o=null;return o="end"===e.data("start_or_end_date")?"start":"end",o}!function(s){const c=window.wc_bookings.hooks;c.addFilter("wc_bookings_date_picker_get_day_attributes","wc_accommodation_booking/booking_form",((a,{booking_data:d,custom_data:s,date_picker:c,resource_id:_,date:n})=>{const i=t(c),l=`${n.getFullYear()}-${n.getMonth()+1}-${n.getDate()}`;return o(i)?(d.fully_booked_start_days&&d.fully_booked_start_days[l]&&("automatic"===s.resources_assignment||d.fully_booked_start_days[l][0]||d.fully_booked_start_days[l][_])&&a.class.push("fully_booked_start_days"),d.fully_booked_end_days&&d.fully_booked_end_days[l]&&("automatic"===s.resources_assignment||d.fully_booked_end_days[l][0]||d.fully_booked_end_days[l][_])&&a.class.push("fully_booked_end_days"),a.class.indexOf("fully_booked_start_days")>-1?a.title=(0,e.__)("Available for check-out only.","woocommerce-accommodation-bookings"):a.class.indexOf("fully_booked_end_days")>-1&&(a.title=(0,e.__)("Available for check-in only.","woocommerce-accommodation-bookings")),a):a})),c.addAction("wc_bookings_date_picker_refreshed","wc_accommodation_booking/booking_form",(({date_picker:a})=>{const d=t(a);o(d)&&(d.find("fieldset").attr("data-content",(0,e.__)("Select check-in","woocommerce-accommodation-bookings")),d.find(".fully_booked_start_days").addClass("ui-datepicker-unselectable ui-state-disabled"),d.find(".fully_booked_end_days").removeClass("ui-datepicker-unselectable ui-state-disabled"))})),c.addAction("wc_bookings_date_selected","wc_accommodation_booking/booking_form",(({fieldset:s,date_picker:c})=>{const _=a(s),n=d(a(c));let i="";o(t(s))&&(_.attr("data-selected-date-type",n),i="end"===n?(0,e.__)("Selected! Re-select to change your check-in date.","woocommerce-accommodation-bookings"):(0,e.__)("Select check-out","woocommerce-accommodation-bookings"),_.attr("data-content",i))})),c.addAction("wc_bookings_pre_calculte_booking_cost","wc_accommodation_booking/booking_form",(({form:e,date_picker:t})=>{const s=a(t),c=a(e),_=d(s);o(c)&&("end"===_?(c.find(".fully_booked_start_days").addClass("ui-datepicker-unselectable ui-state-disabled"),c.find(".fully_booked_end_days").removeClass("ui-datepicker-unselectable ui-state-disabled")):(c.find(".fully_booked_start_days").removeClass("ui-datepicker-unselectable ui-state-disabled"),c.find(".fully_booked_end_days").addClass("ui-datepicker-unselectable ui-state-disabled")))}))}(jQuery)})();